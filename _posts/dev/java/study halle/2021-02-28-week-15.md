---
layout: post
date: 2021-02-28 21:32:00
title: "15주차 과제: 람다식."
description: "study halle"
subject: live study
category: [ java study halle ]
tags: [ java, Lambda ]
use_math: true
comments: true
---

> 해당 글을 [백기선 님의 자바 스터디 15주차 과제](https://github.com/whiteship/live-study/issues/15)를 공부하고 공유하기 위해서 작성되었습니다.

# 목표

자바의 람다식에 대해 학습한다.

# 학습할 것

+ [람다식 사용법](#람다식-사용법)
+ [함수형 인터페이스](#함수형-인터페이스)
+ [Variable Capture](#variable-capture)
+ [메소드, 생성자 레퍼런스](#메소드-생성자-레퍼런스)

# 람다식 사용법

&nbsp;&nbsp;&nbsp;자바가 1996년에 처음 등장한 이후로 두 번의 큰 변화가 있었는데, 한번은 JDK 1.5부터 추가된 지네릭스(generics)의 등장이고, 또 한 번은 JDK 1.8부터 추가된 람다식(lambda expression)의 등장이다.

&nbsp;&nbsp;&nbsp;람다식의 도입으로 인해, 자바는 객체지향언어인 동시에 함수형 언어가 되었다.

## 람다식이란?

&nbsp;&nbsp;&nbsp;람다식(Lambda expression)은 <b>메서드를 하나의 '식(expression)'으로 표현한 것</b>이다. 람다식은 함수를 간략하면서도 명확한 식으로 표현할 수 있게 해준다.

메서드를 람다식으로 표현하면 메서드의 이름과 반환값이 없어지므로, 람다식을 <b>'익명 함수(anonymous function)'</b>라고도 한다.

```java
    int[] arr = new int[5];
    Arrays.setAll(arr, (i) -> (int)(Math.random() * 5) + 1);
```

위 문장에서 `() -> (int)(Math.random() * 5) + 1`이 바로 람다식이다. 이 람다식이 하는 일을 메서드로 표현하면 다음과 같다.

```java
    int method() {
        return (int)(Math.random() * 5) + 1;
    }
```

모든 메서드는 클래스에 포함되어야 하므로 클래스를 새로 만들어야 하고, 객체도 생성해야 비로소 메서드를 호출할 수 있다. 그러나 람다식은 오직 람다식 자체만으로도 메서드의 역할을 대신할 수 있다.

&nbsp;&nbsp;&nbsp;람다식은 메서드의 매개변수로 전달되어지는 것이 가능하고, 메서드의 결과로 반환될 수도 있다.

## 람다식 작성

&nbsp;&nbsp;&nbsp;람다식은 <b>'익명 함수'</b>답게 메서드에서 이름과 반환타입을 제거하고 매개변수 선언부와 몸통 { } 사이에 `->`를 추가한다.

<table style="width:100%; background-color:#3a3c42; border:0; margin-bottom:16px;">
  <tr style="border:0">
    <td style="border:0; padding:14px; padding-left:32px; padding-right:32px; font-size:14px; color:white">
      반환타입 메서드이름(매개변수 선언) {<br/>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;문장들<br/>
      }<br/>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#8681;<br/>
      <del>반환타입 메서드이름</del> (매개변수 선언) -> {<br/>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;문장들<br/>
      }<br/>
    </td>
  </tr>   
</table>

<br/>
예를 들어 두 값 중에서 큰 값을 반환하는 메서드 max는 다음과 같다.

```java
    int max(int a, int b) {
        return a > b ? a : b;
    }
```

이 메서드를 람다식으로 변환하면 다음과 같이 할 수 있다.

```java
    (int a, int b) -> {
        return a > b ? a : b;
    }
```

반환값이 있는 메서드의 경우, return문 대신 <b>'식(expression)'</b>으로 대신 할 수 있다. 식의 연산결과가 자동적으로 반환값이 되고 이 때는 <b>'문장(statement)'</b>이 아닌 식이므로 끝에 `;`를 붙이지 않는다.

```java
    (int a, int b) -> { return a > b ? a : b; } // return문
    (int a, int b) -> a > b ? a : b             // 식(expression)
```

람다식에 선언된 매개변수의 타입은 추론이 가능한 경우에 생략할 수 있다. 대부분의 경우 생략이 가능한데 람다식에 반환타입이 없는 이유도 항상 추론이 가능하기 때문이다. 한 가지 주의해야 할 점은 두 매개변수 중 어느 하나의 타입만 생략하는 것은 허용되지 않는다.

&nbsp;&nbsp;&nbsp;

```java
    (int a, int b) -> a > b ? a : b
    (a, b) -> a > b ? a : b   // 매개변수의 타입 생략
```

선언된 매개변수가 하나뿐인 경우에는 괄호( )를 생략할 수 있다. 단, 매개변수의 타입이 있으면 생략할 수 없다.

```java
    a -> a * a     // Ok.
    int a -> a * a // error.
```

괄호{ } 안의 문장이 하나일 때는 역시 괄호{ }를 생략할 수 있다. 이 때 문장의 끝에 `;`를 붙이지 않아야 한다는 것을 기억하자.

```java
    (String name, int i) -> {
        System.out.println(name + " = " + i);
    }

    (String name, int i) ->
        System.out.println(name + " = " + i)
```

그러나 괄호{ } 안의 문장이 return문일 경우 생략할 수 없다. 또한 return문과 식의 차이를 기억하자.

```java
    (int a, int b) -> { return a > b ? a : b; } // return문 Ok.
    (int a, int b) ->   return a > b ? a : b    // return문 error.
    (int a, int b) ->   a > b ? a : b           // 식(expression)
```

# 함수형 인터페이스

&nbsp;&nbsp;&nbsp;자바에서 모든 메서드는 클래스 내에 포함되어야 하는데, 람다식은 어떤 클래스에 포함되는 것일까?

# Variable Capture

# 메소드, 생성자 레퍼런스

---
**Reference**
+ [자바의 정석 3/e](http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&ejkGb=KOR&barcode=9788994492032)
+ [Java in a Nutshell](https://www.amazon.com/Java-Nutshell-Desktop-Quick-Reference/dp/1492037257/ref=sr_1_1?dchild=1&keywords=Java+in+a+Nutshell&qid=1605393888&s=books&sr=1-1)
+ [오라클 공식 가이드](https://docs.oracle.com/javase/tutorial/java/TOC.html)
