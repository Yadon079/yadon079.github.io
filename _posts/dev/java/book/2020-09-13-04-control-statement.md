---
layout: post
date: 2020-09-13 14:28:00
title: "조건문과 반복문 if, switch, for, while statement"
description: "자바의 정석"
subject: java의 정석
category: [ java ]
tags: [ java, variable]
comments: true
---

# 조건문과 반복문

> 이 글은 남궁성님의 [자바의 정석 3/e](http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&ejkGb=KOR&barcode=9788994492032)을 기반으로 공부한 내용을 정리한 글입니다.

+ [조건문](#조건문-if-switch)
+ [반복문](#논리-연산자)

## 조건문 if switch

코드의 실행흐름은 무조건 위에서 아래로 한 문장씩 순차적으로 진행된다. 하지만 조건에 따라 문장을 건너뛰고, 같은 문장을 반복해서 수행해야할 때가 있다. 이렇게 프로그램의 흐름(flow)를 바꾸는 역할을 하는 문장들을 <b>제어문</b>(`control statement`)라고 한다.

제어문 중에서 조건에 따라 다른 문장이 수행되도록 하는 문장을 <b>조건문</b>이라고 한다.

### 1.1 if문

`if`문은 가장 기본적인 조건문이며, '조건식'과 '괄호 {}'로 이루어져 있다. `if`의 뜻은 '만일 ~ 이라면...'이므로 <b>'만일(if) 조건식이 참(true)이면 괄호 { }안의 문장들을 수행하라.'</b>라는 의미이다.

```java
  if(조건식) {
    // 조건식이 true일 때 수행될 문장
  }
```
<p style="color:#a0adec"><b>조건식</b></p>

`if`문에 사용되는 조건식은 일반적으로 비교연산자와 논리연산자로 구성된다. 조건식을 작성할 때 등가비교 연산자 대신 대입 연산자를 사용하는 실수를 하기 쉽다. 조건식의 결과는 항상 `true` 또는 `false`이어야 한다.

<p style="color:#a0adec"><b>블럭 { }</b></p>

괄호 `{ }`를 이용해서 여러 문장을 하나의 단위로 묶을 수 있는데, 이것을 '블럭(block)'이라고 한다. 블럭은 `{`로 시작해서 `}`로 끝나는데, `}` 다음에 문장의 끝을 의미하는 `;`를 붙이지 않는다.

블럭 안에는 보통 여러 문장을 넣지만, 한 문장만 넣거나 아무런 문장도 넣지 않을 수 있다. 블럭 내의 문장이 하나뿐 일 때는 괄호를 생략할 수 있다. 한 줄로 쓸 수도 있다.

### 1.2 if-else문

`if`문의 변형인 `if-else`문은 `if`문에 `else`블럭이 추가된 것이다. `else`는 '그 밖의 다른'이라는 뜻으로 조건식의 결과가 거짓일 때 `else`블럭의 문장을 수행하라는 뜻이다.

```java
  if(조건식) {
    // 조건식이 참일 경우 수행될 문장들
  } else {
    // 조건식이 거짓일 경우 수행될 문장들
  }
```

조건식의 결과에 따라 두 개 중 하나의 블럭의 내용이 수행되고 전체 `if`문에서 벗어나게 된다. 두 블럭 모두 수행되거나 아무것도 수행되지 않는 경우는 없다.

두 개의 `if`문을 항상 `if-else`문으로 바꿀 수 있는 것이 아니라 두 조건식이 서로 상반된 관계에 있어야만 바꿀 수 있다.

`if-else`문 역시 블럭 내의 문장이 하나뿐인 경우 괄호를 생략할 수 있다.

### 1.3 if-else if문

`if-else`문은 두 가지 경우 중 하나가 수행되는 구조이다. 처리해야할 경우가 셋 이상일 때는 한 문장에 여러 개의 조건식을 쓸 수 있는 `if-else if`문을 사용한다.

```java
  if(조건식 1) {
    // 조건식 1의 연산결과가 참일 때 수행될 문장
  } else if(조건식 2) {
    // 조건식 2의 연산결과가 참일 때 수행될 문장
  } else if(조건식 3) {
    // 조건식 3의 연산결과가 참일 때 수행될 문장
  } else {
    // 위의 어느 조건식도 만족하지 않을 때 수행될 문장
  }
```

`else if`는 여러 개 사용할 수 있고, 마지막 `else`는 생략할 수 있다.

`if-else if` 역시 여러 개의 `if`문을 합쳐 놓은 것이지만, 조건식을 바꾸지 않고 `if`문으로 쪼개놓으면 전혀 다른 코드가 된다.

### 1.4 중첩 if문

`if`문 블럭 내에 또 다른 `if`문을 포함시키는 것이 가능한데, 이를 <b>중첩 `if`문</b>이라고 부르며 중첩 횟수에는 거의 제한이 없다.

```java
  if(조건식 1) {
    // 조건식 1의 연산결과가 true일 때
    if(조건식 2) {
      // 조건식 1과 조건식 2 모두 true일 때
    } else {
      // 조건식 1은 true, 조건식 2는 false일 때
    }
  } else {
    // 조건식 1이 false일 때
  }
```

내부 `if`문은 외부 `if`문보다 안쪽으로 들여쓰기를 해서 범위가 구분되도록 해야 한다.

괄호가 생략되었을 경우 `else`는 가까운 `if`문에 속한 것으로 간주되기 때문에 중첩 `if`문에서는 괄호를 넣어서 관계를 확실히 해주는 것이 좋다.

### 1.5 switch문

`if`문은 조건식의 결과가 참과 거짓 두 가지 밖에 없기 때문에 경우의 수가 많아질수록 복잡해지고, 처리시간도 많이 걸린다.

`switch`문은 단 하나의 조건식으로 많은 경우의 수를 처리할 수 있고, 표현도 간결해 알아보기 쉽다. 단, 제약조건이 있기 때문에, 경우의 수가 많아도 어쩔 수 없이 `if`문으로 작성해야하는 경우가 있다.

`switch`문은 조건식을 먼저 계산한 다음, 결과와 일치하는 `case`문으로 이동한다. 이동한 `case`문 아래에 있는 문장들을 수행하며, `break`문을 만나면 전체 `switch`문을 빠져나가게 된다.

<span style="font-size:18px">&#10112;</span> 조건식을 계산한다.
<span style="font-size:18px">&#10113;</span> 조건식의 결과와 일치하는 `case`문으로 이동한다.
<span style="font-size:18px">&#10114;</span> 이후의 문장들을 수행한다.
<span style="font-size:18px">&#10115;</span> `break`문이나 `switch`문의 끝을 만나면 `switch`문 전체를 빠져나간다.

```java
  switch(조건식) {
    case 값1 :
      // 조건식의 결과 == 값 1
      break;
    case 값2 :
      // 조건식의 결과 == 값 2
      break;
    ...
    default :
      // 조건식의 결과와 일치하는 case문이 없을 때
  }
```

만일 조건식의 결과와 일치하는 `case`문이 하나도 없는 경우에는 `default`문으로 이동한다. 보통 마지막에 놓기 때문에 `break`문을 쓰지 않아도 된다.

`break`문은 각 `case`문의 영역을 구분하는 역할을 하는데, 생략하게되면 `case`문 사이의 구분이 없어져 다른 `break`문을 만나거나 `switch`문 블럭의 끝을 만날 때까지 나오는 모든 문장을 수행한다. 따라서 각 `case`문의 마지막에 `break`문을 빼먹지 않도록 해야한다.

경우에 따라 고의적으로 `break`문을 생략하는 경우도 있다.

```java
  switch (level) {
    case 3 :
      grantDelete(); // 삭제권한
    case 2 :
      grantWrite(); // 쓰기권한
    case 1 :
      grantRead(); // 읽기권한
  }
```

<span style="font-size:13px;">
<b>| 참고 | 위 코드는 사용자에게 각 권한을 주는 기능의 grantRead(), grantWrite(), grantDelete()가 존재한다는 가정 하에 작성되었다.</b><br/>
</span>  

로그인한 사용자의 등급(level)을 체크하여, 등급에 맞게 권한을 부여하는 방식이다. 제일 높은 등급인 3은 모든 권한을 가지고, 제일 낮은 등급인 1은 읽기 권한만 가지게 된다. 예를 들어 값이 2인 경우, `case 2`로 이동해서 문장을 수행한다. `break`문이 없기 때문에 `case 1`까지 수행하고 더 이상 문장이 없으므로 `switch`문을 빠져나온다.

<p style="color:#a0adec"><b>switch문의 제약조건</b></p>

switch문의 조건식은 결과값이 반드시 정수이어야 하며, 이 값과 일치하는 `case`문으로 이동하기 때문에 `case`문의 값은 정수이고 중복되지 않아야 한다. 또한 `case`문의 값은 반드시 상수이어야 한다. 변수나 실수, 문자열은 값으로 사용할 수 없다.

> <p style="font-size:15px"><b>switch문의 제약조건</b><br/>1. switch문의 조건식 결과는 정수 또는 문자열이어야 한다.<br/>2. case문의 값은 정수 상수만 가능하며, 중복되지 않아야 한다.</p>

<span style="font-size:13px;">
<b>| 참고 | JDK1.7이전에는 switch문의 조건식에 문자열이 허용되지 않았다.</b><br/>
</span>  
